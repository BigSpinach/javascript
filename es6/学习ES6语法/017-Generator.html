<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>017-Generator</title>
		<link rel="stylesheet" type="text/css" href="css/install.css"/>
		<script src="jquery3.2.1.js"></script>
	</head>
	<body>
		<div id="d1"></div>
		<button id="btn">抽奖</button>
		<pre>
			//1.创建元素节点
			var p = document.createElement('p');
			//2.创建文本节点
			p.textContent="文本内容";
			//3.获取父级节点
			var d1=document.getElementById("d1");
			//4.将创建的文本节点追加到父级节点之后
			d1.appendChild(p);
		</pre>
	</body>
	<script>
		{
			//抽奖逻辑
			let draw =function(count){
				//具体逻辑
				console.info(`剩余次数${count}次`);
			}
			
			//利用Generator控制count，从而控制抽奖函数的执行
			let residue =function*(count){
				while(count>0){
					count--;
					yield draw(count);
				}
			}
			
			//实例化一个Generator
			let star = residue(5);
			let btn = document.getElementById("btn");
			btn.addEventListener('click',function(){
				star.next();
			});
		}
	</script>
</html>
